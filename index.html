<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Albert Einstein ‚Äî Entre f√≥rmulas y caos</title>
<style>
  :root{
    --bg:#0b1020;
    --card:#0f1724;
    --accent:#e7b86a;
    --muted:#9aa7bf;
    --glass: rgba(255,255,255,0.04);
    --glass-2: rgba(255,255,255,0.02);
    --math: rgba(255,255,255,0.03);
    --accent-2:#8fd3ff;
    --radius:16px;
    --blur:8px;
    --nav-h:76px;
    --ease:cubic-bezier(.2,.9,.3,1);
    font-family: Inter, system-ui, -apple-system, "Helvetica Neue", Arial;
  }

  /* Reset */
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    background: radial-gradient(1200px 600px at 10% 10%, rgba(143,211,255,0.03), transparent 5%),
                radial-gradient(800px 400px at 90% 90%, rgba(231,184,106,0.02), transparent 4%),
                var(--bg);
    color:#e6eef8;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    line-height:1.4;
    overflow-x:hidden;
  }

  /* Parallax math-pattern background full-page */
  .parallax-bg{
    position:fixed;
    inset:0;
    z-index:-2;
    background-image:
      url('fondo22.jpg');
    background-repeat:repeat;
    background-size: 600px 600px;
    transform:translateZ(0);
    will-change:transform, background-position;
    pointer-events:none;
    filter: blur(0px) saturate(0.9);
    /* Animaci√≥n sutil extra */
    animation: bgDrift 40s linear infinite;
  }
  @keyframes bgDrift{
    0%{ background-position: 0 0; }
    50%{ background-position: 200px 120px; }
    100%{ background-position: 0 0; }
  }

  /* Sticky nav */
  header#main-nav{
    position:fixed;
    top:12px;
    left:50%;
    transform:translateX(-50%);
    width:calc(100% - 32px);
    max-width:1200px;
    height:var(--nav-h);
    background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:24px;
    display:flex;
    align-items:center;
    gap:20px;
    padding:10px 18px;
    z-index:999;
    box-shadow: 0 6px 30px rgba(2,6,23,0.6);
    backdrop-filter: blur(8px) saturate(1.05);
    transition: transform .45s var(--ease), box-shadow .3s ease;
  }
  header#main-nav.compact{ transform:translateX(-50%) translateY(-6px) scale(.98); box-shadow: 0 2px 18px rgba(2,6,23,0.4); }

  /* Left logo area */
  .brand {
    display:flex;
    align-items:center;
    gap:12px;
    min-width:220px;
  }
  .brand img{
    width:60px;height:60px;border-radius:8px;object-fit:cover;
    box-shadow:0 4px 20px rgba(0,0,0,0.6), 0 0 0 2px rgba(255,255,255,0.02) inset;
    transform:translateY(-2px);
    /* Animaci√≥n extra */
    animation: floatY 6s ease-in-out infinite;
  }
  .brand .title{
    display:flex;flex-direction:column;
  }
  .brand h1{ font-size:16px; letter-spacing:0.6px; margin-bottom:3px; color:var(--accent); }
  .brand p{ font-size:12px; color:var(--muted); margin-top:-4px }

  /* Nav links right */
  nav#menu{
    margin-left:auto;
    display:flex;
    align-items:center;
    gap:8px;
  }
  nav#menu a{
    display:inline-flex;
    align-items:center;
    gap:8px;
    padding:10px 12px;
    border-radius:12px;
    color:var(--muted);
    text-decoration:none;
    font-weight:600;
    font-size:13px;
    transition: all .22s var(--ease);
    position:relative;
    overflow:hidden;
  }
  nav#menu a:hover{
    color: white;
    transform:translateY(-4px) scale(1.02);
    background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    box-shadow: 0 8px 18px rgba(0,0,0,.4);
  }
  nav#menu a.active{
    color:var(--accent);
    background: linear-gradient(90deg, rgba(231,184,106,0.07), rgba(143,211,255,0.03));
  }
  /* brillo barrido */
  nav#menu a::after{
    content:"";
    position:absolute;
    top:0; left:-120%;
    width:60%; height:100%;
    transform:skewX(-20deg);
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.12), transparent);
    transition:left .6s var(--ease);
  }
  nav#menu a:hover::after{ left:140%; }

  /* Math animated floating shapes near menu */
  .math-shapes{ position:absolute; right:18px; top:8px; pointer-events:none; opacity:0.16 }
  .math-shapes span{ display:inline-block; font-size:18px; transform-origin:center; animation: float 6s infinite ease-in-out;}
  .math-shapes span:nth-child(2){ animation-delay:1s }
  .math-shapes span:nth-child(3){ animation-delay:2s }
  @keyframes float{
    0%{ transform:translateY(0) rotate(0) }
    50%{ transform:translateY(-6px) rotate(6deg) }
    100%{ transform:translateY(0) rotate(0) }
  }

  @keyframes floatY{
    0%{ transform:translateY(-2px) }
    50%{ transform:translateY(2px) }
    100%{ transform:translateY(-2px) }
  }

  /* Page content layout */
  main{ padding-top: calc(var(--nav-h) + 32px); scroll-behavior:smooth; }

  section{ padding:80px 18px; max-width:1100px; margin:0 auto; position:relative; }

  /* Hero / Inicio */
  .hero{
    height:78vh;
    min-height:520px;
    border-radius:20px;
    overflow:hidden;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:36px;
    padding:32px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    box-shadow: 0 8px 40px rgba(3,7,20,0.6);
    position:relative;
    backdrop-filter: blur(6px);
    /* animaci√≥n extra */
    animation: cardRise .9s var(--ease) both .1s;
  }
  @keyframes cardRise{
    from{ opacity:0; transform: translateY(16px) scale(.98); }
    to{ opacity:1; transform: translateY(0) scale(1); }
  }

  .hero .bg-image{
    position:absolute; inset:0; z-index:-1; background-size:cover; background-position:center;
    transform-origin:center;
    transition: transform .6s ease;
    filter:brightness(.45) saturate(.85);
    /* zoom/pan sutil */
    animation: heroKenBurns 22s ease-in-out infinite alternate;
  }
  @keyframes heroKenBurns{
    0%{ transform: scale(1) translateY(0); }
    100%{ transform: scale(1.06) translateY(-2%); }
  }

  .hero .left{
    display:flex; align-items:center; gap:20px;
    max-width:48%;
  }
  .hero .left img{
    width:280px; height:360px; object-fit:cover; border-radius:12px; box-shadow: 0 20px 60px rgba(3,7,20,0.8);
    transform: translateY(0);
    transition: transform .9s var(--ease);
    /* pulso sutil */
    animation: floatY 6s ease-in-out infinite;
  }
  .hero .right{
    color:var(--muted);
    max-width:48%;
    animation: fadeInUp .8s var(--ease) both .25s;
  }
  @keyframes fadeInUp{
    from{ opacity:0; transform: translateY(14px); }
    to{ opacity:1; transform: translateY(0); }
  }
  .hero h2{ font-size:40px; color:white; margin-bottom:8px; letter-spacing:0.6px }
  .hero p.lead{ font-size:18px; margin-bottom:12px; color:var(--muted) }
  .hero .chips{ display:flex; gap:10px; flex-wrap:wrap; margin-top:10px }
  .chip{ padding:8px 12px; border-radius:999px; background:var(--glass); color:var(--muted); font-weight:700; font-size:13px; box-shadow: 0 6px 18px rgba(2,6,23,0.6) inset; transition: transform .2s var(--ease), box-shadow .2s var(--ease); }
  .chip:hover{ transform: translateY(-4px) scale(1.06) rotate(-1.5deg); box-shadow: 0 10px 24px rgba(2,6,23,0.7) inset; }

  /* Who am I */
  .two-col{ display:grid; grid-template-columns: 360px 1fr; gap:28px; align-items:start; }
  .profile-card{
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:14px; padding:18px; box-shadow: 0 10px 30px rgba(2,6,23,0.6);
    animation: cardRise .8s var(--ease) both;
  }
  .profile-card img{ width:100%; height:360px; object-fit:cover; border-radius:10px; transition: transform .4s var(--ease), filter .4s var(--ease); }
  .profile-card img:hover{ transform: scale(1.03) rotate(.6deg); filter: saturate(1.1) brightness(1.02); }
  .bio p{ color:var(--muted); margin-bottom:10px }
  .bio .meta{ display:flex; gap:14px; color:var(--muted); font-weight:600 }
  .btn{
    display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:10px;
    background:linear-gradient(90deg,var(--accent) 0%, var(--accent-2) 100%);
    color:#0b1020; font-weight:800; text-decoration:none; border:none; cursor:pointer;
    box-shadow: 0 8px 30px rgba(231,184,106,0.12);
    transition: transform .18s var(--ease), box-shadow .18s var(--ease), filter .18s var(--ease);
  }
  .btn:hover{ transform: translateY(-4px) scale(1.03) rotate(-.6deg); box-shadow: 0 16px 40px rgba(143,211,255,0.18); filter: saturate(1.05); }

  /* Timeline / history */
  .timeline{ display:flex; flex-direction:column; gap:14px; color:var(--muted) }
  .timeline .item{ background:var(--card); border-radius:12px; padding:14px; box-shadow: 0 8px 30px rgba(2,6,23,0.6); cursor:pointer; transition: transform .18s var(--ease), box-shadow .18s var(--ease); }
  .timeline .item:hover{ transform: translateY(-6px) scale(1.02); box-shadow: 0 14px 36px rgba(2,6,23,0.7); }
  .timeline .item h4{ color:white; margin-bottom:6px }
  .timeline .item p{ color:var(--muted) }

  /* Work / carousel */
  .carousel{
    position:relative;
    display:flex;
    gap:12px;
    align-items:center;
    overflow:visible;
  }
  .slides{ display:flex; gap:14px; overflow:hidden; padding:8px; scroll-behavior:smooth; }
  .slide{
    min-width: 420px; max-width:420px; height:300px; border-radius:12px; overflow:hidden; position:relative;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    box-shadow: 0 12px 30px rgba(2,6,23,0.6);
    cursor:pointer;
    transition: transform .24s var(--ease), box-shadow .24s var(--ease);
  }
  .slide img{ width:100%; height:100%; object-fit:cover; display:block; filter:brightness(.7); transition: transform .5s var(--ease), filter .5s var(--ease); }
  .slide:hover{ transform: translateY(-8px) scale(1.02); box-shadow: 0 20px 42px rgba(2,6,23,0.7); }
  .slide:hover img{ transform: scale(1.08); filter:brightness(.78) saturate(1.05); }

  .carousel .nav{
    display:flex; gap:6px; align-items:center;
  }
  .arrow{
    width:56px;height:56px;border-radius:12px;background:var(--glass);display:inline-grid;place-items:center;cursor:pointer;
    transition: transform .18s var(--ease), box-shadow .18s var(--ease);
  }
  .arrow:hover{ transform:translateY(-3px) scale(1.04) rotate(-2deg); box-shadow: 0 10px 24px rgba(0,0,0,.35); }

  /* Modal base */
  .modal{
    position:fixed; inset:0; display:none; place-items:center; z-index:1200; backdrop-filter: blur(6px);
    animation: fadeBackdrop .25s ease both;
  }
  @keyframes fadeBackdrop{
    from{ background: rgba(0,0,0,0); }
    to{ background: rgba(0,0,0,0.25); }
  }
  .modal.open{ display:grid }
  .modal .modal-card{
    width:min(920px, calc(100% - 48px));
    background: linear-gradient(180deg, rgba(10,14,24,0.98), rgba(6,10,18,0.95));
    border-radius:16px; padding:22px; box-shadow: 0 30px 80px rgba(2,6,23,0.7);
    color:var(--muted);
    animation: modalPop .22s var(--ease) both;
  }
  @keyframes modalPop{
    from{ transform: translateY(10px) scale(.98); opacity:0; }
    to{ transform: translateY(0) scale(1); opacity:1; }
  }
  .modal .modal-card h3{ color:white; margin-bottom:8px }
  .modal .close{ position:absolute; right:20px; top:18px; cursor:pointer; font-weight:800; font-size:18px; color:var(--muted); transition: transform .12s var(--ease); }
  .modal .close:hover{ transform: scale(1.1) rotate(-6deg); }

  /* Collaboration grid */
  .grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(160px,1fr)); gap:12px; }
  .card{
    border-radius:12px; overflow:hidden; background:var(--card); padding:8px; display:flex; flex-direction:column; gap:8px;
    align-items:center; justify-content:center; transition: transform .2s var(--ease), box-shadow .2s var(--ease);
  }
  .card:hover{ transform: translateY(-6px) scale(1.02); box-shadow: 0 16px 36px rgba(0,0,0,.35); }
  .card img{ width:100%; height:120px; object-fit:cover; border-radius:8px }

  /* Memes hover-swap carousel */
  .meme-slide{ min-width:360px; max-width:360px; height:300px; position:relative; overflow:hidden; border-radius:12px; }
  .meme-slide img{ width:100%; height:100%; object-fit:cover; display:block; transition: opacity .25s ease, transform .4s var(--ease); }
  .meme-slide img.alt { position:absolute; inset:0; opacity:0; }
  .meme-slide:hover img.alt{ opacity:1; transform: scale(1.04); }
  .meme-slide:hover img.main{ opacity:0; transform: scale(1.04); }

  /* Media gallery converted to carousel */
  .media-carousel{ position:relative; display:flex; align-items:center; gap:12px; overflow:visible; margin-top:8px; }
  .media-slides{ display:flex; gap:12px; overflow:hidden; padding:8px; scroll-behavior:smooth; }
  .media-item{
    min-width:420px; max-width:420px; height:260px; border-radius:10px; overflow:hidden; position:relative;
    background:var(--card); box-shadow: 0 12px 30px rgba(2,6,23,0.6); display:flex; align-items:center; justify-content:center;
    transition: transform .22s var(--ease), box-shadow .22s var(--ease);
  }
  .media-item:hover{ transform: translateY(-6px) scale(1.02); box-shadow: 0 16px 36px rgba(0,0,0,.35); }
  .media-item img, .media-item video{ width:100%; height:100%; object-fit:cover; display:block; border-radius:10px; }

  /* Tooltip for media hover */
  #media-tooltip{
    position:fixed; z-index:1500; background:linear-gradient(180deg, rgba(0,0,0,0.9), rgba(0,0,0,0.85));
    color:var(--muted); padding:10px 12px; border-radius:8px; font-size:13px; pointer-events:none;
    box-shadow: 0 8px 30px rgba(0,0,0,0.6); max-width:360px; display:none;
    transform-origin:center;
    animation: tooltipPop .18s var(--ease) both;
  }
  @keyframes tooltipPop{
    from{ transform: translateY(6px) scale(.98); opacity:0; }
    to{ transform: translateY(0) scale(1); opacity:1; }
  }

  /* Quote */
  .big-quote{ text-align:center; font-size:28px; color:#fff; margin:20px 0; font-weight:700; letter-spacing:0.6px; animation: glowQuote 3s ease-in-out infinite alternate; }
  @keyframes glowQuote{
    from{ text-shadow: 0 0 8px rgba(255,255,255,.1); }
    to{ text-shadow: 0 0 24px rgba(255,255,255,.35); }
  }

  /* Chalkboard (nuevo) */
  .chalkboard-section{
    background: linear-gradient(0deg, rgba(0,40,0,0.18), rgba(0,40,0,0.12));
    border-radius:14px; padding:18px; box-shadow: 0 12px 30px rgba(0,0,0,0.6); margin-bottom:18px;
    animation: cardRise .8s var(--ease) both;
  }
  .chalkboard{
    background: linear-gradient(180deg, #133913, #0f3b10 60%);
    border-radius:10px; padding:12px; box-shadow: inset 0 4px 14px rgba(0,0,0,0.6);
    display:flex; gap:12px; align-items:flex-start;
  }
  .chalkboard-canvas{
    flex:1; border-radius:8px; overflow:hidden; position:relative;
    background: repeating-linear-gradient(transparent, transparent 8px, rgba(255,255,255,0.01) 8px, rgba(255,255,255,0.01) 9px);
  }
  .chalkboard-tools{ width:260px; background:rgba(255,255,255,0.02); padding:12px; border-radius:8px; }
  .tool-btn{ display:inline-flex; align-items:center; gap:8px; padding:8px 10px; border-radius:8px; margin-bottom:8px; cursor:pointer; background:var(--glass); transition: transform .16s var(--ease); }
  .tool-btn:hover{ transform: translateY(-3px) scale(1.02); }
  .tool-row{ margin-bottom:8px }

  /* Contact */
  .contact{ display:grid; grid-template-columns: 1fr 360px; gap:24px; align-items:start; }
  .contact form{ background:var(--card); padding:18px; border-radius:12px; display:flex; flex-direction:column; gap:12px; animation: cardRise .6s var(--ease) both; }
  input, textarea{
    background:rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.02); color:var(--muted); padding:12px; border-radius:10px;
    transition: box-shadow .18s var(--ease), transform .12s var(--ease);
  }
  input:focus, textarea:focus{ outline:none; box-shadow: 0 0 0 3px rgba(143,211,255,.25); transform: translateY(-1px); }
  textarea{ min-height:140px; resize:vertical }

  footer{ text-align:center; color:var(--muted); padding:30px 12px; font-size:13px }

  /* Floating action button */
  .fab{
    position:fixed; right:22px; bottom:22px; z-index:1300; width:66px; height:66px; border-radius:18px; display:grid; place-items:center;
    background:linear-gradient(180deg, var(--accent), var(--accent-2)); box-shadow: 0 20px 60px rgba(143,211,255,0.08);
    cursor:pointer; transition: transform .16s var(--ease), box-shadow .16s var(--ease);
    animation: pulseFab 2.4s ease-in-out infinite;
  }
  .fab:hover{ transform: translateY(-3px) scale(1.03) rotate(-2deg); box-shadow: 0 26px 70px rgba(143,211,255,0.12); }
  @keyframes pulseFab{
    0%{ transform: scale(1); }
    50%{ transform: scale(1.05); }
    100%{ transform: scale(1); }
  }

  /* ********** CAMBIO SOLICITADO: EMOTE DEL FAB CENTRADO ********** */
  .fab-emote{
    position:fixed;
    /* Se centra exactamente en pantalla */
    top:50%;
    left:50%;
    transform: translate(-50%, -50%);
    z-index:1400;
    width:200px; height:200px; border-radius:18px; display:grid; place-items:center;
    transform-origin:center; pointer-events:none;
    animation: emote-in .24s cubic-bezier(.2,.9,.3,1);
    box-shadow: 0 30px 80px rgba(2,6,23,0.5);
    background: transparent;
  }
  /* (Se elimina el posicionamiento original right/bottom para que NO aparezca sobre el bot√≥n) */
  .fab-emote img{ width:100%; height:100%; object-fit:contain; border-radius:12px; filter: drop-shadow(0 18px 30px rgba(0,0,0,0.5)); }
  @keyframes emote-in{
    0%{ transform: translate(-50%, calc(-50% + 12px)) scale(.7); opacity:0 }
    60%{ transform: translate(-50%, calc(-50% - 6px)) scale(1.06); opacity:1 }
    100%{ transform: translate(-50%, -50%) scale(1); opacity:1 }
  }

  /* small responsive */
  @media (max-width:920px){
    .two-col{ grid-template-columns: 1fr; }
    .hero .left img{ width:220px; height:280px }
    header#main-nav{ left:12px; transform:none; width:calc(100% - 24px); border-radius:14px }
    .brand p{ display:none }
    .slide{ min-width:320px; max-width:320px; height:240px }
    .meme-slide{ min-width:280px; max-width:280px; height:240px }
    .media-item{ min-width:300px; max-width:300px; height:200px }
  }

  @media (max-width:520px){
    nav#menu a{ padding:8px 10px; font-size:12px }
    .hero{ flex-direction:column; height:auto; padding:18px }
    .hero .left, .hero .right{ max-width:100% }
    .hero .left img{ width:200px; height:260px }
    .contact{ grid-template-columns: 1fr; }
    .chalkboard-tools{ width:100%; order:2 }
    .chalkboard{ flex-direction:column }
  }
</style>
</head>
<body>
  <div class="parallax-bg" id="parallax"></div>

  <header id="main-nav" aria-label="Men√∫ principal">
    <div class="brand" role="banner">
      <!-- Reemplaza src con foto de Einstein (izquierda del men√∫) -->
      <img src="https://upload.wikimedia.org/wikipedia/commons/d/d3/Albert_Einstein_Head.jpg" alt="Albert Einstein (foto)">
      <div class="title">
        <h1>Albert Einstein</h1>
        <p>F√≠sico te√≥rico ¬∑ La relatividad</p>
      </div>
    </div>

    <nav id="menu" role="navigation">
      <a href="#inicio" class="active">Inicio</a>
      <a href="#quien-soy">¬øQui√©n soy?</a>
      <a href="#mi-historia">Mi historia</a>
      <a href="#mi-trabajo">Mi trabajo</a>
      <a href="#colaboraciones">Colaboraciones</a>
      <a href="#memes">Memes</a>
      <a href="#medios">Apariciones</a>
      <a href="#frase">Pizarra</a>
      <a href="#contacto">Contacto</a>
    </nav>

    <div class="math-shapes" aria-hidden="true">
      <span style="font-size:20px;">‚àë</span>
      <span style="font-size:18px;">‚à´</span>
      <span style="font-size:22px;">‚àö</span>
    </div>
  </header>

  <main>
    <!-- HERO / INICIO -->
    <section id="inicio">
      <div class="hero" role="region" aria-label="Inicio - Albert Einstein">
        <!-- fondo hero: reemplaza url por imagen de fondo grande -->
        <div class="bg-image" id="hero-bg" style="background-image:url('https://images.unsplash.com/photo-1549387244-3b78555c2a5f?q=80&w=1770&auto=format&fit=crop&ixlib=rb-4.0.3&s=bd0a8b7d8dbf6a1c8b8c1d1a9f5e2f56');"></div>

        <div class="left">
          <!-- Reemplaza por retrato de Einstein que uses -->
          <img id="hero-face" src="https://upload.wikimedia.org/wikipedia/commons/d/d3/Albert_Einstein_Head.jpg" alt="Albert Einstein portrait">
          <div>
            <h2>Albert Einstein</h2>
            <p class="lead">F√≠sico te√≥rico. Padre de la teor√≠a de la relatividad y una forma muy especial de peinado.</p>

            <div class="chips" aria-hidden="true">
              <span class="chip">Relatividad</span>
              <span class="chip">E = mc¬≤</span>
              <span class="chip">Nobel 1921</span>
              <span class="chip">Pensador</span>
            </div>
          </div>
        </div>

        <div class="right">
          <p style="color:var(--muted)">Con√≥ceme un poco...</p>
          <p style="font-size:14px; color:var(--muted)">Nac√≠ el 14 de marzo de 1879 y fallec√≠ el 18 de abril de 1955. Soy un f√≠sico te√≥rico alem√°n que transform√≥ la comprensi√≥n de la f√≠sica moderna mediante el desarrollo de la teor√≠a de la relatividad. Asimismo, realic√© contribuciones significativas a la mec√°nica cu√°ntica y a la f√≠sica estad√≠stica. Con el paso del tiempo, mi figura y mi pensamiento han perdurado como un s√≠mbolo del ingenio y la curiosidad cient√≠fica.</p>

          <div style="margin-top:18px; display:flex; gap:12px;">
            <a href="#quien-soy" class="btn">Con√≥ceme</a>
            <button class="btn" onclick="document.querySelector('#mi-trabajo').scrollIntoView({behavior:'smooth'})">Mi trabajo</button>
          </div>
        </div>
      </div>
    </section>

    <!-- QUI√âN SOY -->
    <section id="quien-soy">
      <h3 style="color:var(--accent); margin-bottom:12px">¬øQui√©n soy?</h3>
      <div class="two-col">
        <div class="profile-card">
          <!-- Coloca aqu√≠ otra imagen si quieres -->
          <img src="einstein1.jpg" alt="Foto profile Einstein">
        </div>
        <div>
          <div class="bio">
            <h2 style="color:white; margin-bottom:6px">Albert Einstein</h2>
            <p class="meta"><span>14 mar 1879</span> ¬∑ <span>18 abr 1955</span> ¬∑ <span>F√≠sico te√≥rico</span></p>
            <p>Nac√≠ en Ulm, Alemania, y me dediqu√© a la f√≠sica te√≥rica. Mis teor√≠as sobre el espacio, el tiempo y la energ√≠a causaron una verdadera revoluci√≥n en la f√≠sica moderna. A lo largo de mi vida fui profesor, investigador y tambi√©n un firme defensor de la paz y de los derechos humanos.</p>

            <p style="color:var(--muted)"><strong>Datos clave:</strong> Premio Nobel de F√≠sica 1921, profesor en la Universidad de Berl√≠n, emigr√≥ a EE. UU. en 1933 ante la amenaza nazi.</p>
          </div>

          <div style="margin-top:14px">
            <a class="btn" href="https://es.wikipedia.org/wiki/Albert_Einstein" target="_blank" rel="noopener">Leer biograf√≠a completa</a>
          </div>
        </div>
      </div>
    </section>

    <!-- MI HISTORIA -->
    <section id="mi-historia">
      <h3 style="color:var(--accent); margin-bottom:12px">Mi historia</h3>
      <div class="timeline">
        <div class="item" role="button" tabindex="0" onclick="openModalById('hist-1879')" onkeypress="if(event.key==='Enter') openModalById('hist-1879')">
          <h4>1879 ‚Äî Nacimiento</h4>
          <p>Albert nace en Ulm, en una familia de clase media. Inter√©s precoz por la ciencia y las matem√°ticas.</p>
        </div>
        <div class="item" role="button" tabindex="0" onclick="openModalById('hist-1905')" onkeypress="if(event.key==='Enter') openModalById('hist-1905')">
          <h4>1905 ‚Äî Annus Mirabilis</h4>
          <p>Publica cuatro art√≠culos fundamentales sobre efecto fotoel√©ctrico, movimiento browniano, equivalencia masa-energ√≠a y relatividad especial.</p>
        </div>
        <div class="item" role="button" tabindex="0" onclick="openModalById('hist-1915')" onkeypress="if(event.key==='Enter') openModalById('hist-1915')">
          <h4>1915 ‚Äî Relatividad General</h4>
          <p>Presenta la teor√≠a general de la relatividad, describiendo la gravedad como curvatura del espacio-tiempo.</p>
        </div>
        <div class="item" role="button" tabindex="0" onclick="openModalById('hist-1921')" onkeypress="if(event.key==='Enter') openModalById('hist-1921')">
          <h4>1921 ‚Äî Nobel</h4>
          <p>Recibe el Premio Nobel por sus explicaciones del efecto fotoel√©ctrico.</p>
        </div>
      </div>
    </section>

    <!-- MI TRABAJO (Inventos & Teor√≠as) -->
    <section id="mi-trabajo">
      <h3 style="color:var(--accent); margin-bottom:12px">Mi trabajo</h3>
      <p style="color:var(--muted); margin-bottom:18px">Aqu√≠ ver√°s algunas de mis teor√≠as y contribuciones importantes. Haz click en la imagen para ver la explicaci√≥n detallada (cada teor√≠a tiene su propia ventana).</p>

      <div class="carousel" aria-label="Carrusel de teor√≠as">
        <div class="arrow" onclick="scrollSlides(-1)" title="Anterior">‚óÄ</div>
        <div class="slides" id="work-slides" role="list">
          <!-- Slide 1 -->
          <div class="slide" role="listitem" data-modal="modal-relatividad-especial" onclick="openModalById('modal-relatividad-especial')">
            <img src="rs.jpg" alt="Relatividad especial">
          </div>
          <!-- Slide 2 -->
          <div class="slide" role="listitem" data-modal="modal-emc2" onclick="openModalById('modal-emc2')">
            <img src="emc.jpg" alt="E = mc^2">
          </div>
          <!-- Slide 3 -->
          <div class="slide" role="listitem" data-modal="modal-relatividad-general" onclick="openModalById('modal-relatividad-general')">
            <img src="relatividad.jpg" alt="Relatividad general">
          </div>

          <!-- Slide 4 (nuevo) -->
          <div class="slide" role="listitem" data-modal="modal-1916-paper" onclick="openModalById('modal-1916-paper')">
            <img src="publi.jpg" alt="Art√≠culos y publicaciones">
          </div>

          <!-- Slide 5 (nuevo) -->
          <div class="slide" role="listitem" data-modal="modal-quantum" onclick="openModalById('modal-quantum')">
            <img src="cuantica.jpg" alt="Contribuciones a la mec√°nica cu√°ntica">
          </div>

          <!-- Slide 6 (nuevo) -->
          <div class="slide" role="listitem" data-modal="modal-late-work" onclick="openModalById('modal-late-work')">
            <img src="trabajos.jpg" alt="Trabajos posteriores">
          </div>
        </div>
        <div class="arrow" onclick="scrollSlides(1)" title="Siguiente">‚ñ∂</div>
      </div>

      <!-- Modales individuales para cada teor√≠a -->
      <div class="modal" id="modal-relatividad-especial" aria-hidden="true" tabindex="-1">
        <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="rse-title">
          <button class="close" onclick="closeModal('modal-relatividad-especial')">‚úï</button>
          <h3 id="rse-title">Relatividad Especial (1905)</h3>
          <p style="color:var(--muted)">La teor√≠a de la relatividad especial reformula las nociones de espacio y tiempo, proponiendo que la velocidad de la luz en el vac√≠o es constante y que las leyes de la f√≠sica son las mismas para todos los observadores inerciales. Resulta en fen√≥menos como la dilataci√≥n del tiempo y la contracci√≥n de longitudes.</p>
          <p style="color:var(--muted)"><strong>Explicaci√≥n sencilla:</strong> Si viajas en una nave a gran velocidad, el tiempo para ti pasar√° m√°s lento que para las personas que quedaron en la Tierra.</p>
        </div>
      </div>

      <div class="modal" id="modal-emc2" aria-hidden="true" tabindex="-1">
        <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="emc2-title">
          <button class="close" onclick="closeModal('modal-emc2')">‚úï</button>
          <h3 id="emc2-title">E = mc¬≤</h3>
          <p style="color:var(--muted)">La famosa ecuaci√≥n que relaciona energ√≠a (E) con masa (m) y la velocidad de la luz (c). Muestra que la masa puede convertirse en energ√≠a y viceversa.</p>
          <p style="color:var(--muted)"><strong>En palabras simples:</strong> Incluso una peque√±a cantidad de masa contiene una enorme cantidad de energ√≠a debido al factor c¬≤.</p>
        </div>
      </div>

      <div class="modal" id="modal-relatividad-general" aria-hidden="true" tabindex="-1">
        <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="rge-title">
          <button class="close" onclick="closeModal('modal-relatividad-general')">‚úï</button>
          <h3 id="rge-title">Relatividad General (1915)</h3>
          <p style="color:var(--muted)">Extensi√≥n de la relatividad especial que describe la gravedad no como una fuerza sino como la curvatura del espacio-tiempo causada por la masa y la energ√≠a.</p>
          <p style="color:var(--muted)"><strong>Resumen para humanos:</strong> Los objetos masivos ‚Äúhunden‚Äù el tejido del universo y eso hace que otros objetos sigan caminos curvos alrededor de ellos.</p>
        </div>
      </div>

      <!-- Modales nuevos para slides a√±adidos -->
      <div class="modal" id="modal-1916-paper" aria-hidden="true" tabindex="-1">
        <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="m1916-title">
          <button class="close" onclick="closeModal('modal-1916-paper')">‚úï</button>
          <h3 id="m1916-title">Publicaciones y art√≠culos</h3>
          <p style="color:var(--muted)">Einstein public√≥ prol√≠ficamente; adem√°s de los art√≠culos de 1905, sus publicaciones de 1916 y posteriores expandieron la comprensi√≥n del universo, incluidas soluciones a las ecuaciones de campo.</p>
        </div>
      </div>

      <div class="modal" id="modal-quantum" aria-hidden="true" tabindex="-1">
        <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="mq-title">
          <button class="close" onclick="closeModal('modal-quantum')">‚úï</button>
          <h3 id="mq-title">Contribuciones a la mec√°nica cu√°ntica</h3>
          <p style="color:var(--muted)">Aunque cr√≠tico en algunos aspectos, Einstein contribuy√≥ al nacimiento de la teor√≠a cu√°ntica (por ejemplo, explicaci√≥n del efecto fotoel√©ctrico) y debati√≥ con otros sobre su interpretaci√≥n.</p>
        </div>
      </div>

      <div class="modal" id="modal-late-work" aria-hidden="true" tabindex="-1">
        <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="mlw-title">
          <button class="close" onclick="closeModal('modal-late-work')">‚úï</button>
          <h3 id="mlw-title">Trabajos posteriores</h3>
          <p style="color:var(--muted)">En sus √∫ltimos a√±os, Einstein trabaj√≥ en una b√∫squeda de una teor√≠a unificada; aunque no concluy√≥, su enfoque inspir√≥ generaciones de f√≠sicos te√≥ricos.</p>
        </div>
      </div>
    </section>

    <!-- COLABORACIONES -->
    <section id="colaboraciones">
      <h3 style="color:var(--accent); margin-bottom:12px">Colaboraciones</h3>
      <p style="color:var(--muted); margin-bottom:16px">Algunas personas con las que trabaj√© y tuve contacto intelectual.</p>

      <div class="grid">
        <div class="card">
          <img src="niels.jpg" alt="Niels Bohr" width="405" height="300">
          <strong>Niels Bohr</strong>
          <p style="color:var(--muted); font-size:13px">F√≠sico dan√©s, pionero en mec√°nica cu√°ntica.</p>
        </div>
        <div class="card">
          <img src="max.jpg" alt="Max Planck">
          <strong>Max Planck</strong>
          <p style="color:var(--muted); font-size:13px">Padre de la teor√≠a cu√°ntica.</p>
        </div>
        <div class="card">
          <img src="marie.jpg" alt="Marie Curie">
          <strong>Marie Curie</strong>
          <p style="color:var(--muted); font-size:13px">Colaboradora intelectual y figura en la ciencia moderna.</p>
        </div>
		  <div class="card">
          <img src="marcel.jpg" alt="Niels Bohr" width="405" height="300">
          <strong>Marcel Grossmann</strong>
          <p style="color:var(--muted); font-size:13px">Matem√°tico suizo y compa√±ero de estudios en el Polit√©cnico de Z√∫rich.</p>
        <!-- M√°s tarjetas seg√∫n necesites -->
</div>
    </section>

    <!-- MEMES Y CURIOSIDADES -->
    <section id="memes">
      <h3 style="color:var(--accent); margin-bottom:12px">Memes y curiosidades</h3>
      <p style="color:var(--muted); margin-bottom:16px">Estos son algunos memes que se han popularizado sobre m√≠ a lo largo del tiempo.</p>

      <div class="carousel" style="margin-bottom:10px;">
        <div class="arrow" onclick="memeScroll(-1)">‚óÄ</div>
        <div class="slides" id="meme-slides" style="display:flex; gap:14px; overflow:hidden; padding:8px;">
          <!-- Meme slide: img normal en color de base y alt en data-alt-src -->
          <div class="meme-slide" role="listitem">
            <img class="main" src="meme12.jpg" alt="meme bn">
            <img class="alt" src="meme1.png" alt="meme color">
          </div>

          <div class="meme-slide">
            <img class="main" src="meme 55.gif" alt="meme bn2">
            <img class="alt" src="meme 5.gif" alt="meme color2">
          </div>

          <!-- meme 3 (nuevo) -->
          <div class="meme-slide">
            <img class="main" src="meme33.jpg" alt="meme bn3">
            <img class="alt" src="meme3.jpg" alt="meme color3">
          </div>

          <!-- meme 4 (nuevo) -->
          <div class="meme-slide">
            <img class="main" src="meme 4.jpg" alt="meme bn4">
            <img class="alt" src="meme 4.jpg" alt="meme color4">
          </div>

          <!-- meme 5 (nuevo) -->
          <div class="meme-slide">
            <img class="main" src="MEME22.jpg" alt="meme bn5">
            <img class="alt" src="meme2.jpeg" alt="meme color5">
          </div>

        </div>
        <div class="arrow" onclick="memeScroll(1)">‚ñ∂</div>
      </div>

      <p style="color:var(--muted)">Curiosidades r√°pidas:</p>
      <ul style="color:var(--muted); margin-top:8px">
        <li>Rechac√© la presidencia de Israel en 1952.</li>
        <li>Me gustan mucho los paseos, el viol√≠n y volar cometas (los calcetines, en cambio, nunca fueron mi prioridad).</li>
		  <li>No aprend√≠ a hablar con fluidez hasta que ten√≠a alrededor de 4 a√±os; muchos pensaron que ten√≠a alg√∫n tipo de problema, pero simplemente me tomaba mi tiempo para pensar.</li>
		  <li>iempre me fascin√≥ imaginar c√≥mo ser√≠a viajar junto a un rayo de luz‚Ä¶ esa idea fue el punto de partida para desarrollar mi teor√≠a de la relatividad.</li>
		  <li>Mi cerebro fue preservado despu√©s de mi muerte sin el consentimiento de mi familia, algo que nunca aprob√©.</li>
		  <li>Nunca conduje un autom√≥vil, prefer√≠a caminar o dejar que alguien m√°s me llevara.</li>
      </ul>
    </section>

    <!-- MEDIOS / APARICIONES -->
    <section id="medios">
      <h3 style="color:var(--accent); margin-bottom:12px">Apariciones en medios</h3>
      <p style="color:var(--muted); margin-bottom:12px">Pel√≠culas, series, videojuegos y referencias pop donde he aparecido.</p>

      <div class="media-carousel" aria-label="Carrusel de medios">
        <div class="arrow" onclick="mediaScroll(-1)" title="Anterior">‚óÄ</div>
        <div class="media-slides" id="media-slides" role="list">
          <div class="media-item" role="listitem" data-info="Genius (2017). Interpretado por Geoffrey Rush y Johnny Flynn, muestra la vida y obra de Einstein desde su juventud hasta su madurez.">
            <img src="pelicula 1.jpg" alt="pelicula ejemplo">
          </div>

          <div class="media-item" role="listitem" data-info="Oppenheimer (2023). Einstein aparece como una figura sabia que aconseja a Oppenheimer sobre las consecuencias del uso de la energ√≠a nuclear.">
            <video controls src="pelicula1.mp4" poster="open.jpg">Tu navegador no soporta video</video>
          </div>

          <div class="media-item" role="listitem" data-info="IQ (1994). Comedia rom√°ntica donde Einstein (Walter Matthau) ayuda a su sobrina a encontrar el amor mientras muestra su lado m√°s humano. ">
            <img src="pelicula 2.jpg" alt="anime ejemplo">
          </div>

          <!-- Nuevas entradas (m√°s im√°genes y otro video) -->
          <div class="media-item" role="listitem" data-info="Saga Back to the Future (1985). El personaje del ‚ÄúDoc Brown‚Äù se inspira en Einstein; incluso su perro lleva su nombre, en homenaje al cient√≠fico. ">
            <img src="vaf.jpg" alt="serie ejemplo">
          </div>

          <div class="media-item" role="listitem" data-info="One Piece. El Dr. Vegapunk, cient√≠fico del Gobierno Mundial, est√° claramente inspirado en Albert Einstein. ">
            <video controls src="vega.mp4" poster="vega1.jpg">Tu navegador no soporta video</video>
          </div>

          <div class="media-item" role="listitem" data-info=" Los Simpson. Einstein ha sido mencionado y parodiado en m√∫ltiples episodios como s√≠mbolo de la inteligencia y la genialidad cient√≠fica.">
            <img src="simp.jpg" alt="videojuego ejemplo">
          </div>

        </div>
        <div class="arrow" onclick="mediaScroll(1)" title="Siguiente">‚ñ∂</div>
      </div>
    </section>

    <!-- FRASE C√âLEBRE -->
    <section id="frase">
      <div class="big-quote">‚ÄúLa imaginaci√≥n es m√°s importante que el conocimiento.‚Äù</div>
    </section>

    <!-- CHALKBOARD / PIZARR√ìN (nuevo, antes de contacto) -->
    <section id="chalkboard" class="chalkboard-section" aria-label="Pizarr√≥n interactivo">
      <h3 style="color:var(--accent); margin-bottom:12px">Pizarr√≥n ‚Äî dibuja tus ecuaciones</h3>
      <p style="color:var(--muted); margin-bottom:12px">Usa la tiza para escribir o dibujar. Herramientas: pincel, tama√±o y limpiar.</p>

      <div class="chalkboard" role="region" aria-label="Pizarr√≥n">
        <div class="chalkboard-canvas">
          <canvas id="board" width="1200" height="600" style="width:100%; height:100%; display:block; background:linear-gradient(180deg,#123a17,#0d2e12);"></canvas>
        </div>

        <div class="chalkboard-tools" aria-hidden="false">
          <div class="tool-row">
            <div class="tool-btn" id="tool-brush" role="button" tabindex="0">‚úèÔ∏è Pincel</div>
            <div class="tool-btn" id="tool-erase" role="button" tabindex="0">üßΩ Limpiar</div>
          </div>
          <div class="tool-row">
            <label style="display:block; color:var(--muted); margin-bottom:6px">Tama√±o:</label>
            <input id="brush-size" type="range" min="2" max="48" value="8" style="width:100%">
          </div>
          <div class="tool-row">
            <label style="display:block; color:var(--muted); margin-bottom:6px">Opacidad (tiza):</label>
            <input id="brush-alpha" type="range" min="0.2" max="1" step="0.05" value="0.95" style="width:100%">
          </div>
          <div style="margin-top:12px; color:var(--muted); font-size:13px">
            <p><strong>Consejo:</strong> La tiza es blanca sobre fondo verde. Usa el limpiador para borrar todo.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- CONTACTO -->
    <section id="contacto">
      <h3 style="color:var(--accent); margin-bottom:12px">Contacto</h3>
      <div class="contact">
        <form onsubmit="alert('Hola, gracias por tu mensaje. En este momento estoy‚Ä¶ bueno, t√©cnicamente no en este mundo. Si tienes algo urgente, int√©ntalo con una ouija.'); return false;">
          <input type="text" placeholder="Tu nombre" required>
          <input type="email" placeholder="Tu correo" required>
          <textarea placeholder="Escribe tu mensaje..." required></textarea>
          <div style="display:flex; gap:10px;">
            <button class="btn" type="submit">Enviar</button>
            <button class="btn" type="button" onclick="window.location='#'">Suscribirme</button>
          </div>
        </form>

        <div style="background:var(--card); padding:18px; border-radius:12px;">
          
          <p style="color:var(--muted); margin-top:12px"><strong>Mail:</strong> einstein@universo.com</p>
          <p style="color:var(--muted)"><strong>Ubicaci√≥n:</strong> Ulm ¬∑ Princeton</p>
        </div>
      </div>
    </section>

    <footer>
      ¬© 2025 ¬∑ Proyecto educacional ¬∑ Todos los derechos reservados ¬∑ T√©rminos y condiciones
    </footer>
  </main>

  <!-- Floating action button (imagen que pondr√°s t√∫) -->
  <div class="fab" id="fab" title="Abrir imagen" aria-label="Abrir imagen">
    <!-- Reemplaza por tu icono -->
    <img src="cabeza.png" width="65" height="68" id="fab-icon">
  </div>

  <!-- Modal for FAB (lo dejo por si quieres usarlo despu√©s) -->
  <div class="modal" id="fab-modal" aria-hidden="true">
    <div class="modal-card">
      <button class="close" onclick="closeModal('fab-modal')">‚úï</button>
      <h3 style="color:white">Imagen especial</h3>
      <p style="color:var(--muted)">Aqu√≠ aparecer√° la imagen que desees mostrar desde el bot√≥n flotante. Reemplaza el <code>src</code> del <code>img</code> abajo.</p>
      <div style="margin-top:12px; text-align:center">
        <img id="fab-image" src="cabeza.png" alt="Imagen FAB" style="max-width:100%; border-radius:12px;">
      </div>
    </div>
  </div>

  <!-- Media tooltip (hidden by default) -->
  <div id="media-tooltip" role="status" aria-hidden="true"></div>

<script>
  // Smooth active link highlight
  const menuLinks = document.querySelectorAll('#menu a');
  menuLinks.forEach(a=> a.addEventListener('click', (e)=>{
    menuLinks.forEach(x=>x.classList.remove('active'));
    e.currentTarget.classList.add('active');
  }));

  // Shrink nav on scroll
  const header = document.querySelector('#main-nav');
  let lastScroll = 0;
  window.addEventListener('scroll', ()=>{
    const y = window.scrollY;
    if(y>60) header.classList.add('compact'); else header.classList.remove('compact');
    lastScroll = y;
  });

  // Parallax effect (subtle)
  const parallax = document.getElementById('parallax');
  const heroBg = document.getElementById('hero-bg');
  window.addEventListener('scroll', ()=>{
    const sc = window.scrollY;
    // background subtle move
    parallax.style.transform = `translateY(${sc * -0.03}px)`;
    if(heroBg) heroBg.style.transform = `translateY(${sc * -0.06}px) scale(1.02)`;
  });

  // Carousel scrolling for work slides
  function scrollSlides(dir){
    const container = document.getElementById('work-slides');
    container.scrollBy({ left: dir * 460, behavior:'smooth' });
  }
  function memeScroll(dir){
    const container = document.getElementById('meme-slides');
    container.scrollBy({ left: dir * 400, behavior:'smooth' });
  }
  function mediaScroll(dir){
    const container = document.getElementById('media-slides');
    container.scrollBy({ left: dir * 460, behavior:'smooth' });
  }

  // Modal open/close helpers
  function openModalById(id){
    const el = document.getElementById(id);
    if(!el) return;
    el.classList.add('open');
    el.setAttribute('aria-hidden','false');
    document.body.style.overflow='hidden';
  }
  function closeModal(id){
    const el = document.getElementById(id);
    if(!el) return;
    el.classList.remove('open');
    el.setAttribute('aria-hidden','true');
    document.body.style.overflow='';
  }

  // Close modal when clicking outside card
  document.querySelectorAll('.modal').forEach(modal=>{
    modal.addEventListener('click', (e)=>{
      if(e.target === modal) {
        modal.classList.remove('open');
        modal.setAttribute('aria-hidden','true');
        document.body.style.overflow='';
      }
    });
  });

  // FAB behavior: show ephemeral emote image for a few seconds (instead of opening modal)
  const fab = document.getElementById('fab');
  // Default emote image src ‚Äî replace this with your Einstein PNG path when ready
  const defaultEmoteSrc = 'https://upload.wikimedia.org/wikipedia/commons/d/d3/Albert_Einstein_Head.jpg';
  let emoteTimeout = null;
  fab.addEventListener('click', ()=>{
    showFabEmote();
  });

  function showFabEmote(){
    // remove existing if present to restart animation
    const prev = document.querySelector('.fab-emote');
    if(prev){
      prev.remove();
      if(emoteTimeout) clearTimeout(emoteTimeout);
    }
    const el = document.createElement('div');
    el.className = 'fab-emote';
    // Use the image inside fab-modal if you want to set it there; otherwise default
    const img = document.createElement('img');
    const fabImage = document.getElementById('fab-image');
    img.src = (fabImage && fabImage.src) ? fabImage.src : defaultEmoteSrc;
    img.alt = 'Emote';
    el.appendChild(img);
    document.body.appendChild(el);

    // remove after 2.5 seconds with fade out
    emoteTimeout = setTimeout(()=>{
      el.style.transition = 'opacity .35s ease, transform .35s ease';
      el.style.opacity = '0';
      el.style.transform = 'translate(-50%, calc(-50% - 6px)) scale(.96)';
      setTimeout(()=> el.remove(), 360);
    }, 2500);
  }

  // Meme hover swap already handled by CSS with stacking two imgs (class 'alt')
  // If you prefer to set alt images via data-* attributes, you can enhance here.

  // Keyboard accessibility: Escape to close modals
  document.addEventListener('keydown', (e)=>{
    if(e.key === 'Escape'){
      document.querySelectorAll('.modal.open').forEach(m=>{
        m.classList.remove('open');
        m.setAttribute('aria-hidden','true');
        document.body.style.overflow='';
      });
    }
  });

  // Small enhancement: lazy-load images (basic)
  document.querySelectorAll('img').forEach(img=>{
    img.loading = 'lazy';
  });

  // Add small entrance animation for hero image after load
  window.addEventListener('load', ()=>{
    const heroFace = document.getElementById('hero-face');
    setTimeout(()=>{ heroFace.style.transform = 'translateY(-6px)'; }, 300);
  });

  // Timeline modals: (already wired in markup with onclick attributes)

  // MEDIA TOOLTIP: show a small window below hovered media item with info
  const mediaSlides = document.getElementById('media-slides');
  const tooltip = document.getElementById('media-tooltip');

  function showMediaTooltip(target){
    const info = target.getAttribute('data-info') || '';
    if(!info) return;
    tooltip.textContent = info;
    tooltip.style.display = 'block';
    tooltip.setAttribute('aria-hidden','false');

    // position under target
    const rect = target.getBoundingClientRect();
    const left = Math.max(12, rect.left + (rect.width/2) - 180); // center tooltip
    const top = rect.bottom + 10;
    tooltip.style.left = left + 'px';
    tooltip.style.top = top + 'px';
  }
  function hideMediaTooltip(){
    tooltip.style.display = 'none';
    tooltip.setAttribute('aria-hidden','true');
  }

  // Attach events to media items
  document.querySelectorAll('.media-item').forEach(item=>{
    item.addEventListener('mouseenter', ()=> showMediaTooltip(item));
    item.addEventListener('focus', ()=> showMediaTooltip(item));
    item.addEventListener('mouseleave', hideMediaTooltip);
    item.addEventListener('blur', hideMediaTooltip);
  });

  // CHALKBOARD: simple drawing canvas with brush, size and clear
  (function initChalkboard(){
    const canvas = document.getElementById('board');
    const ctx = canvas.getContext('2d');
    let drawing = false;
    let last = {x:0,y:0};
    const sizeInput = document.getElementById('brush-size');
    const alphaInput = document.getElementById('brush-alpha');
    const brushBtn = document.getElementById('tool-brush');
    const eraseBtn = document.getElementById('tool-erase');

    // make canvas high-res for crisp lines
    function resizeCanvas(){
      const rect = canvas.getBoundingClientRect();
      const dpr = window.devicePixelRatio || 1;
      canvas.width = Math.max(800, Math.floor(rect.width * dpr));
      canvas.height = Math.max(400, Math.floor(rect.height * dpr));
      canvas.style.width = rect.width + 'px';
      canvas.style.height = rect.height + 'px';
      ctx.scale(dpr, dpr);
      // fill green chalkboard background
      ctx.fillStyle = '#113813';
      ctx.fillRect(0,0,rect.width,rect.height);
    }

    // initial resize after layout
    setTimeout(resizeCanvas, 50);
    window.addEventListener('resize', ()=> { setTimeout(resizeCanvas, 50); });

    // chalk draw function with slight jitter to mimic chalk texture
    function drawLine(x1,y1,x2,y2){
      const brushSize = parseInt(sizeInput.value,10) || 8;
      const alpha = parseFloat(alphaInput.value) || 0.95;
      ctx.lineJoin = 'round';
      ctx.lineCap = 'round';
      ctx.globalCompositeOperation = 'source-over';
      ctx.globalAlpha = alpha;
      ctx.strokeStyle = '#ffffff';

      // create multiple sub-strokes for chalky texture
      for(let i=0;i<2;i++){
        ctx.beginPath();
        const jitter = (i===0) ? 0 : (Math.random()*1.2 - 0.6);
        ctx.moveTo(x1 + jitter, y1 + jitter);
        ctx.lineWidth = Math.max(1, brushSize + (Math.random()*2 - 1));
        ctx.lineTo(x2 + (Math.random()*1.2 - 0.6), y2 + (Math.random()*1.2 - 0.6));
        ctx.stroke();
      }
    }

    function getPointerPos(e){
      const rect = canvas.getBoundingClientRect();
      if(e.touches && e.touches.length){
        const t = e.touches[0];
        return { x: t.clientX - rect.left, y: t.clientY - rect.top };
      } else {
        return { x: e.clientX - rect.left, y: e.clientY - rect.top };
      }
    }

    canvas.addEventListener('pointerdown', (e)=>{
      drawing = true;
      const p = getPointerPos(e);
      last = p;
    });
    canvas.addEventListener('pointermove', (e)=>{
      if(!drawing) return;
      const p = getPointerPos(e);
      drawLine(last.x, last.y, p.x, p.y);
      last = p;
    });
    canvas.addEventListener('pointerup', ()=> { drawing = false; });
    canvas.addEventListener('pointerleave', ()=> { drawing = false; });

    // erase / clear
    eraseBtn.addEventListener('click', ()=>{
      const rect = canvas.getBoundingClientRect();
      ctx.clearRect(0,0,canvas.width,canvas.height);
      // redraw background
      ctx.fillStyle = '#113813';
      ctx.fillRect(0,0,rect.width,rect.height);
    });

    // tool focus/keyboard accessible
    brushBtn.addEventListener('click', ()=>{ /* brush selected by default */ });
    brushBtn.addEventListener('keypress', (e)=>{ if(e.key==='Enter') {} });
    eraseBtn.addEventListener('keypress', (e)=>{ if(e.key==='Enter') eraseBtn.click(); });

    // Prevent scrolling on touch while drawing
    canvas.addEventListener('touchstart', (e)=> e.preventDefault(), {passive:false});
    canvas.addEventListener('touchmove', (e)=> e.preventDefault(), {passive:false});
  })();

  // Optional: when clicking a slide, open its own modal. Already wired via onclick attributes in slide divs.

</script>
</body>
</html>
